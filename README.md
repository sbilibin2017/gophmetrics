# Яндекс Практикум "Продвинутый Go-разработчик" (Трек: metrics(gophmetrics))

## Описание

Проект **gophmetrics** — это система сбора, передачи и хранения метрик с разделением на две части: сервер и агент.

| Компонент | Описание |
|-----------|----------|
| **Сервер** | Предоставляет REST API для работы с метриками: обновление метрик, получение значений конкретных метрик, получение списка всех метрик. Принимает и хранит метрики двух типов — gauge (float64) и counter (int64). |
| **Агент**  | HTTP-клиент, который регулярно собирает метрики из рантайма Go (пакет `runtime`) и дополнительные метрики, а затем отправляет их на сервер по HTTP. |

---

## Структура проекта

```
.
├── cmd                      # Точки входа приложений: агент и сервер
│   ├── agent                # Агент метрик — программа для сбора и отправки метрик
│   │   └── main.go          # Точка входа для приложения агента метрик
│   └── server               # Сервер метрик — программа для приёма и обработки метрик
│       └── main.go          # Точка входа для сервера метрик
├── go.mod                  # Описание модуля Go и его зависимостей
├── go.sum                  # Контрольные суммы зависимостей для проверки целостности
├── internal                # Внутренние пакеты приложения (не предназначены для внешнего использования)
│   ├── agent                # Логика работы агента метрик (бизнес-правила и операции)
│   │   ├── agent.go         # Основная логика агента метрик
│   │   ├── agent_mock.go    # Моки для интерфейсов агента (для тестов)
│   │   └── agent_test.go    # Тесты для пакета agent
│   ├── apps                 # Слой приложения — запуск и управление жизненным циклом агента и сервера
│   │   ├── agent.go         # Слой приложения для запуска агента
│   │   ├── agent_test.go    # Тесты для слоя приложения агента
│   │   ├── server.go        # Слой приложения для запуска сервера
│   │   └── server_test.go   # Тесты для слоя приложения сервера
│   ├── configs              # Конфигурация приложения: параметры, адреса, настройки транспортов
│   │   ├── address          # Утилиты для работы с адресами и схемами подключения
│   │   │   ├── address.go   # Утилиты для парсинга и работы с адресами
│   │   │   └── address_test.go  # Тесты для утилит адресов
│   │   ├── agent.go         # Конфигурация для агента
│   │   ├── agent_test.go    # Тесты конфигурации агента
│   │   ├── server.go        # Конфигурация для сервера
│   │   ├── server_test.go   # Тесты конфигурации сервера
│   │   └── transport        # Настройки транспортных протоколов и клиентов
│   │       └── http
│   │           ├── client.go       # HTTP клиент для взаимодействия
│   │           └── client_test.go  # Тесты для HTTP клиента
│   ├── facades              # Фасады — упрощённый интерфейс для работы с метриками (обёртка логики)
│   │   ├── metric.go        # Фасад для работы с метриками
│   │   └── metric_test.go   # Тесты фасада метрик
│   ├── handlers             # HTTP-хендлеры — обработка REST-запросов и взаимодействие с клиентами
│   │   └── http
│   │       ├── metric.go          # HTTP-хендлеры для работы с метриками
│   │       ├── metric_mock.go     # Моки для HTTP-хендлеров (для тестов)
│   │       └── metric_test.go     # Тесты HTTP-хендлеров метрик
│   ├── models               # Модели данных — типы и структуры метрик
│   │   └── metrics.go       # Модели данных метрик и типы
│   ├── repositories         # Репозитории — абстракции хранилища метрик (например, in-memory)
│   │   └── memory
│   │       ├── metric.go    # Хранилище метрик в памяти
│   │       └── metric_test.go  # Тесты для in-memory репозитория
│   └── services             # Сервисы — бизнес-логика работы с метриками, основная функциональность
│       ├── metric.go        # Сервисный слой с бизнес-логикой метрик
│       ├── metric_mock.go   # Моки для сервисного слоя метрик (для тестов)
│       └── metric_test.go   # Тесты для сервисного слоя метрик
└── Makefile                # Автоматизация сборки, тестирования и других задач проекта
```

---