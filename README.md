# Яндекс Практикум "Продвинутый Go-разработчик" (Трек: metrics(gophmetrics))

## Описание

Проект **gophmetrics** — это система сбора, передачи и хранения метрик с разделением на две части: сервер и агент.

| Компонент | Описание |
|-----------|----------|
| **Сервер** | Предоставляет REST API для работы с метриками: обновление метрик, получение значений конкретных метрик, получение списка всех метрик. Принимает и хранит метрики двух типов — gauge (float64) и counter (int64). |
| **Агент**  | HTTP-клиент, который регулярно собирает метрики из рантайма Go (пакет `runtime`) и дополнительные метрики, а затем отправляет их на сервер по HTTP. |

---

## Структура проекта

```
.
├── cmd                         // Пакеты с точками входа (исполняемые файлы) для разных компонентов приложения
│   ├── agent
│   │   └── main.go             // Точка входа для агента (исполняемый файл агента)
│   └── server
│       └── main.go            // Точка входа для сервера (исполняемый файл сервера)
├── go.mod                     // Файл модуля Go с зависимостями и версией
├── go.sum                     // Контрольные суммы зависимостей для обеспечения целостности
├── internal                   // Основная бизнес-логика и реализация приложения (недоступна извне)
│   ├── address                // Работа с адресами: парсинг, валидация, форматы
│   │   ├── address.go         // Логика работы с адресами (парсинг, валидаторы)
│   │   └── address_test.go    // Тесты для пакета address
│   ├── agent                  // Логика агента: основная функциональность, моки и тесты
│   │   ├── agent.go           // Реализация агента (основной код)
│   │   ├── agent_mock.go      // Моки для тестирования компонента агента
│   │   └── agent_test.go      // Тесты для пакета agent
│   ├── compressor             // Компрессия и декомпрессия данных (gzip)
│   │   ├── compressor.go      // Код компрессии/декомпрессии gzip
│   │   └── compressor_test.go // Тесты для компрессора
│   ├── facades                // Фасады — абстракции/адаптеры для внешних интерфейсов (HTTP)
│   │   └── http
│   │       ├── metric.go       // HTTP фасад для работы с метриками (адаптер, интерфейс)
│   │       ├── metric_mock.go  // Моки для HTTP фасада метрик
│   │       └── metric_test.go  // Тесты для HTTP фасада метрик
│   ├── handlers               // HTTP обработчики (handlers) для маршрутизации и обработки запросов
│   │   └── http
│   │       ├── metric.go       // HTTP обработчики (handler) для метрик
│   │       ├── metric_mock.go  // Моки для HTTP обработчиков метрик
│   │       └── metric_test.go  // Тесты для HTTP обработчиков метрик
│   ├── marshaller             // Сериализация и десериализация данных (JSON и другие форматы)
│   │   ├── marshaller.go      // Код для сериализации/десериализации данных (JSON, возможно другие форматы)
│   │   └── marshaller_test.go // Тесты для маршаллера
│   ├── middlewares            // HTTP middleware — промежуточные обработчики для запросов
│   │   └── http
│   │       ├── gzip.go         // HTTP middleware для gzip компрессии
│   │       ├── gzip_mock.go    // Моки для gzip middleware (для тестов)
│   │       ├── gzip_test.go    // Тесты для gzip middleware
│   │       ├── logging.go      // HTTP middleware для логирования запросов
│   │       └── logging_test.go // Тесты для middleware логирования
│   ├── models                 // Описание моделей данных и структур (например, метрик)
│   │   └── metrics.go          // Определения структур данных (модели) метрик
│   ├── repositories           // Репозитории — слой доступа к данным и хранилищам
│   │   └── memory
│   │       ├── metric.go       // Репозиторий для метрик, работающий в памяти (in-memory storage)
│   │       └── metric_test.go  // Тесты для memory-репозитория метрик
│   ├── services               // Сервисы — бизнес-логика, обработка данных, взаимодействие с репозиториями
│   │   ├── metric.go           // Бизнес-логика (сервисы) для метрик
│   │   ├── metric_mock.go      // Моки для тестирования сервисов метрик
│   │   └── metric_test.go      // Тесты для сервисов метрик
│   └── transport              // Транспортный слой: клиенты и адаптеры для внешних вызовов
│       └── http
│           ├── client.go       // HTTP клиент для взаимодействия с внешними сервисами
│           └── client_test.go  // Тесты для HTTP клиента
├── Makefile                   // Скрипты для сборки, тестов и других задач
└── README.md                  // Документация проекта
```

---